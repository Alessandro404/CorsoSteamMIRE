[gd_scene load_steps=3 format=3 uid="uid://dlqwhfg1kn7t1"]

[ext_resource type="Resource" uid="uid://bn45nq2xy5vgp" path="res://dialoghi/dialogodi test.dialogue" id="1_0734g"]

[sub_resource type="GDScript" id="GDScript_r22or"]
script/source = "extends Node3D

@export var dialogue_resource: DialogueResource
@export var dialogue_start: String = \"start\"

@onready var root_node = get_parent()

var volumi_cliccabili :Array

func ready():
	get_volume()

func action() -> void:
	if !Singleton.dialogue_playing:
		Input.set_mouse_mode(Input.MOUSE_MODE_VISIBLE)
		DialogueManager.show_example_dialogue_balloon(dialogue_resource, dialogue_start)
		Singleton.dialogue_playing = true


func get_volume() -> void:
	for i in get_parent().find_children(\"*\", \"*\", false):
		if i.is_in_group(\"Dialogabile\"):
			volumi_cliccabili.append(i)
			print(\"trovato dialogo\")
	print(volumi_cliccabili)
"

[node name="DialogoManagerTest" type="Node3D"]
script = SubResource("GDScript_r22or")
dialogue_resource = ExtResource("1_0734g")
