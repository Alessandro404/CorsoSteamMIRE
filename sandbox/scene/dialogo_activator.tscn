[gd_scene load_steps=3 format=3 uid="uid://4303s1w6bakf"]

[sub_resource type="GDScript" id="GDScript_5e1x4"]
script/source = "extends Area3D
class_name DialogActivator

@export var dialogue_resource: DialogueResource
@export var dialogue_start: String = \"start\"

@onready var player: CharacterBody3D = get_tree().get_first_node_in_group(\"player\")


func _on_body_entered(body: Node3D) -> void:
	if !Singleton.dialogue_playing and body == player:
		Input.set_mouse_mode(Input.MOUSE_MODE_VISIBLE)
		DialogueManager.show_example_dialogue_balloon(dialogue_resource, dialogue_start)
		Singleton.dialogue_playing = true
		queue_free()
"

[sub_resource type="CylinderShape3D" id="CylinderShape3D_dad3e"]
radius = 1.0

[node name="DialogoActivator" type="Area3D"]
collision_layer = 2
collision_mask = 2
script = SubResource("GDScript_5e1x4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_dad3e")

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
radius = 1.0
height = 0.1
sides = 16

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
